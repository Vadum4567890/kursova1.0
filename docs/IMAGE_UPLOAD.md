# üì∏ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏

## –û–ø–∏—Å

–°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Ä–æ–±–æ—Ç–∏ –∑—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ–≤:

1. **–ó–æ–≤–Ω—ñ—à–Ω—ñ URL** - –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≥–æ—Ç–æ–≤—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤** - –º–æ–∂–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å

## –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–∏—Ö URL (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)

–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ URL –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É:

```json
{
  "brand": "Toyota",
  "model": "Corolla",
  "imageUrl": "https://example.com/toyota-corolla.jpg"
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏
- –®–≤–∏–¥–∫–æ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- –ù–µ –∑–∞–π–º–∞—î –º—ñ—Å—Ü–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—é

### 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ API

#### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

```http
POST /api/upload/image
Authorization: Bearer <token>
Content-Type: multipart/form-data

image: [—Ñ–∞–π–ª]
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "message": "Image uploaded successfully",
  "data": {
    "filename": "toyota-corolla-1234567890-123456789.jpg",
    "originalName": "toyota-corolla.jpg",
    "size": 245678,
    "mimetype": "image/jpeg",
    "url": "/uploads/images/toyota-corolla-1234567890-123456789.jpg",
    "fullUrl": "http://localhost:3001/uploads/images/toyota-corolla-1234567890-123456789.jpg"
  }
}
```

#### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `url` –∞–±–æ `fullUrl` –≤ –ø–æ–ª—ñ `imageUrl` –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—è:

```http
POST /api/cars
Authorization: Bearer <token>
Content-Type: application/json

{
  "brand": "Toyota",
  "model": "Corolla",
  "imageUrl": "/uploads/images/toyota-corolla-1234567890-123456789.jpg"
}
```

#### –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

```http
DELETE /api/upload/image/:filename
Authorization: Bearer <token>
```

## –û–±–º–µ–∂–µ–Ω–Ω—è

- **–¢–∏–ø–∏ —Ñ–∞–π–ª—ñ–≤**: JPEG, JPG, PNG, GIF, WebP
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä**: 5MB
- **–î–æ—Å—Ç—É–ø**: –¢—ñ–ª—å–∫–∏ –¥–ª—è admin —Ç–∞ manager —Ä–æ–ª–µ–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
backend/
‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îî‚îÄ‚îÄ images/          # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
‚îÇ       ‚îî‚îÄ‚îÄ car-1234567890-123456789.jpg
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ routes/
        ‚îî‚îÄ‚îÄ uploadRoutes.ts
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–î–æ–¥–∞–π—Ç–µ –≤ `.env` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):

```env
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É (–≤ –±–∞–π—Ç–∞—Ö)
MAX_FILE_SIZE=5242880

# –î–æ–∑–≤–æ–ª–µ–Ω—ñ —Ç–∏–ø–∏ —Ñ–∞–π–ª—ñ–≤
ALLOWED_IMAGE_TYPES=jpeg,jpg,png,gif,webp
```

### –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏

–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Å–ª—É–≥–æ–≤—É—î —Ñ–∞–π–ª–∏ –∑ `backend/uploads/` –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
```
http://localhost:3000/uploads/images/filename.jpg
```

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```javascript
// 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
const formData = new FormData();
formData.append('image', fileInput.files[0]);

const uploadResponse = await fetch('/api/upload/image', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  },
  body: formData
});

const { data } = await uploadResponse.json();

// 2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ URL –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—è
const carResponse = await fetch('/api/cars', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    brand: 'Toyota',
    model: 'Corolla',
    imageUrl: data.url  // –∞–±–æ data.fullUrl
  })
});
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–æ–≥–æ URL

```javascript
const carResponse = await fetch('/api/cars', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    brand: 'Toyota',
    model: 'Corolla',
    imageUrl: 'https://example.com/car-images/toyota-corolla.jpg'
  })
});
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≥–æ—Ç–æ–≤—ñ URL –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É**: –ó–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ —Ñ–∞–π–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é
3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ (Cloudinary, AWS S3) –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É

## –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –£–Ω—ñ–∫–∞–ª—å–Ω—ñ —ñ–º–µ–Ω–∞ —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ó–∞—Ö–∏—Å—Ç —á–µ—Ä–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
- ‚úÖ –î–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–ª—è admin/manager

